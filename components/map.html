<leaflet lf-center="model.map.center" defaults="model.map.defaults" layers="model.map.layers" markers='model.map.markers' geojson='model.map.geojson' paths="model.map.paths" height="100%">
	<div class="leaflet-draw leaflet-control layer-change">
        <div class="leaflet-draw-section">
            <div class="leaflet-draw-toolbar leaflet-bar leaflet-draw-toolbar-top">
                <a href="" ng-click="changeBaselayer('map'); $event.stopPropagation();"><i class="fa fa-map-o"></i></a>
                <a href="" ng-click="changeBaselayer('satellite'); $event.stopPropagation();"><i class="fa fa-globe"></i></a>
                <a href="" ng-if="model.visitedNodes" ng-init="model.visitedNodes = false" ng-click="changeBaselayer('grey'); $event.stopPropagation();"><i class="fa fa-calculator"></i></a>
            </div>
        </div>
    </div>
  </div>
  <div class="leaflet-draw leaflet-control" ng-if="model.simulation.data.cars">
    <div class="leaflet-draw-section simulation-bar">
      <div class="leaflet-draw-toolbar leaflet-bar leaflet-draw-toolbar-top leaflet-bar-horizontal">
        <a href="" ng-click="simulationControl('jumpback'); $event.stopPropagation();"><i class="fa fa-fast-backward"></i></a>
        <a href="" ng-click="simulationControl('back'); $event.stopPropagation();"><i class="fa fa-step-backward"></i></a>
        <a href="" ng-click="simulationControl('pause'); $event.stopPropagation();"><i class="fa fa-pause"></i></a>
        <a href="" ng-click="simulationControl('play'); $event.stopPropagation();"><i class="fa fa-play"></i></a>
        <a href="" ng-click="$event.stopPropagation();" style="width: 270px">
          <div style="display: flex; align-items: center; justify-content: space-around">
            <div style="width: 175px; height: 9px; border: 1px solid #68c631" ng-click="simulationBarClick($event)">
              <div 
                style="background-color: #68c631; height: 100%" 
                ng-style="{'width': (model.simulation.metaData.properties.index + 1) / model.simulation.metaData.properties.frames * 100 + '%'}"></div>
            </div>
            <div style="width: 60px">{{ model.simulation.metaData.properties.index + 1 }} of {{ model.simulation.metaData.properties.frames }}</div>
          </div>
        </a>
        <a href="" ng-click="simulationControl('next'); $event.stopPropagation();"><i class="fa fa-step-forward"></i></a>
        <a href="" ng-click="simulationControl('jumpforward'); $event.stopPropagation();"><i class="fa fa-fast-forward"></i></a>
      </div>
    </div>
  </div>
</leaflet>
